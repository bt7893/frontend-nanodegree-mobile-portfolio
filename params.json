{"name":"Frontend-nanodegree-mobile-portfolio","tagline":"Project P4: Website Optimization","body":"# Website Performance Optimization:\r\nLaunch the URL : \r\n[Website Performance Optimization](bt7893.github.io/frontend-nanodegree-mobile-portfolio/landingPage.html)\r\n\r\n### Optimizations Performed\r\n\r\n1. Inline CSS styling:\r\n    - index.html - embedded the style.css file\r\n    - added media=\"print\" for print.css since it is render blocking\r\n2. Optimized images:\r\n    - profilepic.jpg - reduced size, removed metadata\r\n3. Added async attribute for perfmatters.js:\r\n    - added the async attribute so that the script is executed asynchronously as soon as it is available.\r\n4. Minify js\r\n    - perfmatters.js --> http://jscompress.com/\r\n5. Added .htaccess file to leverage browser caching\r\n\r\n#### Results\r\n1. PageSpeed Insights:\r\n    - Mobile: 95/100\r\n    - Desktop: 96/100\r\n\r\n\r\n***\r\n\r\n\r\n## Cam's Pizzeria\r\n1. Launch the URL : bt7893.github.com/frontend-nanodegree-mobile-portfolio/views/pizza.html\r\n2. Move the slider to change the pizza size (open web inspector console log to check the time it takes to redraw the page)\r\n3. Scrolling the page - Console.log should show 60 frames under 1ms (which means each redraw is higher than 60 fps)\r\n\r\n### Optimizations Performed\r\n1. Inline CSS styling:\r\n   - pizza.html - embedded the style.css file\r\n2. Optimized images:\r\n   - pizza.png - reduced size and removed metadata\r\n   - pizzeria.jpg - reduced size and removed metadata\r\n3. Modified CSS .mover where \"width: 100px\" is added to eliminate the process of resizing during the iterative   \r\n   function\r\n4. main.js file\r\n    - Please see detailed notes below\r\n5. Minify js\r\n    - Minified \"main.js\" using [Minify JS](http://jscompress.com/)\r\n6. Minify css\r\n    - Minified \"bootstrap-grid.css\" using [CSS Minifier](http://cssminifier.com/)\r\n\r\n#### Changing Pizza Sizes\r\n1. Moved the variable \"dx\" and \"newwitdh\" and placed it outside the loop.\r\n2. Created a new variable \"randomPizza\" and placed it outside the loop.\r\n3. Modified the for loop to be more efficient.\r\n\r\n##### Original:\r\n      // Iterates through pizza elements on the page and changes their widths\r\n      function changePizzaSizes(size) {\r\n        for (var i = 0; i < document.querySelectorAll(\".randomPizzaContainer\").length; i++) {\r\n          var dx = determineDx(document.querySelectorAll(\".randomPizzaContainer\")[i], size);\r\n          var newwidth = (document.querySelectorAll(\".randomPizzaContainer\")[i].offsetWidth + dx) + 'px';\r\n          document.querySelectorAll(\".randomPizzaContainer\")[i].style.width = newwidth;\r\n        }\r\n      }\r\n##### Modified:\r\n      var randomPizza = document.querySelectorAll(\".randomPizzaContainer\"); // moved this variable so that it sits outside the function to reduce iterations to fetch the data.\r\n      // Iterates through pizza elements on the page and changes their widths\r\n      function changePizzaSizes(size) {\r\n        var dx = determineDx(document.querySelector(\".randomPizzaContainer\"), size);\r\n        var newwidth = (document.querySelector(\".randomPizzaContainer\").offsetWidth + dx) + 'px';\r\n        var pizzaCount = document.querySelectorAll(\".randomPizzaContainer\");\r\n        for (var i = pizzaCount.length; i--;) {\r\n          pizzaCount[i].style.width = newwidth;\r\n        }\r\n      }\r\n\r\n#### Sliding Pizza Generator\r\n1. Modified the for loop to be more efficient.\r\n2. Reduced number of sliding pizzas generated from 200 to 30. You only need 30 to populate the page.\r\n3. Removed the width and height style to eliminate the process of resizing. Pizza.png were resized in Photoshop as \r\n   100px x 77px. Metadata removed to reduce filesize.\r\n\r\n##### Original:\r\n      document.addEventListener('DOMContentLoaded', function() {\r\n        var cols = 8;\r\n        var s = 256;\r\n        for (var i = 0; i < 200; i++) {\r\n          var elem = document.createElement('img');\r\n          elem.className = 'mover';\r\n          elem.src = \"images/pizza.png\";\r\n          elem.style.height = \"100px\";\r\n          elem.style.width = \"73px\";\r\n          elem.basicLeft = (i % cols) * s;\r\n          elem.style.top = (Math.floor(i / cols) * s) + 'px';\r\n          document.querySelector(\"#movingPizzas1\").appendChild(elem);\r\n        }\r\n        updatePositions();\r\n      });\r\n\r\n##### Modified:\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n          var cols = 8;\r\n          var s = 256;\r\n        for (var cols = 8, s = 256, i = 30; i--; ) {\r\n            var elem = document.createElement('img');\r\n            elem.className = 'mover';\r\n            elem.src = \"images/pizza.png\";\r\n            elem.basicLeft = (i % cols) * s;\r\n            elem.style.top = (Math.floor(i / cols) * s) + 'px';\r\n            movingPizzas1tag.appendChild(elem);\r\n          }\r\n          updatePositions();\r\n        });\r\n\r\n#### updatePositions\r\nAdded cachedScrollTop and placed it outside the for loop.\r\n\r\n##### Original:\r\n        function updatePositions() {\r\n          frame++;\r\n          window.performance.mark(\"mark_start_frame\");\r\n        \r\n          var items = document.querySelectorAll('.mover');\r\n          for (var i = 0; i < items.length; i++) {\r\n            var phase = Math.sin((document.body.scrollTop / 1250) + (i % 5));\r\n            items[i].style.left = items[i].basicLeft + 100 * phase + 'px';\r\n          }\r\n\r\n##### Modified:\r\n        function updatePositions() {\r\n          frame++;\r\n          window.performance.mark(\"mark_start_frame\");\r\n          var items = document.querySelectorAll('.mover');\r\n          var cachedScrollTop = document.body.scrollTop;\r\n          for (var i = 0; i < items.length; i++) {\r\n            var phase = Math.sin((cachedScrollTop / 1250) + (i % 5));\r\n            items[i].style.left = items[i].basicLeft + 100 * phase + 'px';\r\n          }\r\n\r\n### Results\r\n1. Page Speed over 60 fps during scrolling (via console.log)\r\n2. Time to resize under 5 ms\r\n\r\n### References\r\n1. https://css-tricks.com/authoring-critical-fold-css/\r\n2. https://www.igvita.com/slides/2012/devtools-tips-and-tricks/jank-demo.html\r\n\r\n### Tools\r\n1. Adobe Photoshop CS6 - https://www.adobe.com/products/photoshop.html?promoid=KLXLS\r\n2. ImageMagick - http://www.imagemagick.org/\r\n3. Minify JS - http://jscompress.com\r\n4. Minify CSS - http://cssminifier.com","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}